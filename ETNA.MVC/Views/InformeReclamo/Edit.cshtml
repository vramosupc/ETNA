@model ETNA.MVC.Models.PV.InformeReclamoViewModel

@{
    ViewBag.Title = "Edit";
}

<br />

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

<fieldset>
        <legend>InformeReclamoViewModel</legend>

        <table style="border: 1px solid white">
            <tr>
                <td style="text-align: center; font-size: 20px; font-weight: bold;" colspan="4">Modificar Informe de Reclamo</td>
            </tr>        
            <tr>
                <td>@Html.LabelFor(model => model.CodigoInforme)</td>
                <td style="text-align: left">
                   @Html.DisplayFor(model => model.CodigoInforme)
                </td>
                <td>@Html.LabelFor(model => model.Estado)</td>
            
                <td style="text-align: left">
                   @Html.DisplayFor(model => model.DescripcionEstado)
      
                </td>
            </tr>        
            
            <tr>
                <td>@Html.LabelFor(model => model.FechaElaboracion)</td>
                <td  style="text-align: left">
               
                          @string.Format("{0:dd/MM/yyyy}", Convert.ToDateTime(Html.DisplayFor(model => model.FechaElaboracion).ToString()))
              
                </td>
                <td>@Html.LabelFor(model => model.FechaAprobacion)</td>
                <td style="text-align: left">
                
                   @if (@Html.DisplayFor(model => model.FechaElaboracion).ToString() == "0001-01-01")
                   {

                       string.Format("{0:dd/MM/yyyy}", Convert.ToDateTime(@Html.DisplayFor(model => model.FechaAprobacion).ToString()));
                   }
 
                </td>
            </tr>  

            <tr>
                <td>@Html.LabelFor(model => model.Descripcion)</td>
                <td colspan="3" style="text-align: left">
                    @Html.EditorFor(model => model.Descripcion)
                    @Html.ValidationMessageFor(model => model.Descripcion)
                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(model => model.CodigoReclamo)</td>
                <td colspan="3" style="text-align: left">
                   @Html.DisplayFor(model => model.CodigoReclamo)
             
                </td>
            </tr>
            
            <tr>
                <td>@Html.LabelFor(model => model.DetalleInforme)</td>
                <td colspan="3" style="text-align: left">
                    @Html.TextAreaFor(model => model.DetalleInforme)
                    @Html.ValidationMessageFor(model => model.DetalleInforme)
                </td>
            </tr>  
            
            <tr>
                <td>@Html.LabelFor(model => model.ObservacionAprobador)</td>
                <td colspan="3" style="text-align: left">
                    @Html.DisplayTextFor(model => model.ObservacionAprobador)
                </td>
            </tr> 
              <tr>
                <td colspan="1">@Html.LabelFor(model => model.NombreElaborador)</td>
                <td colspan="3" style="text-align: left">
                 @Html.DisplayFor(model => model.NombreElaborador)
                </td>
            </tr> 
              <tr>
                <td colspan="1">@Html.LabelFor(model => model.NombreAprobador)</td>
                <td colspan="3" style="text-align: left">
                 @Html.DisplayFor(model => model.NombreAprobador)
                </td>
            </tr> 
            
                      
            <tr>
                <td colspan="2" style="text-align: center"><input type="submit" value="Grabar" name="btnGrabar" id="btnGrabar" /></td>
                <td colspan="2" style="text-align: center">
                    @Html.ActionLink("Regresar", "Index")
                </td>
            </tr>  

        </table>
     
        <p>
            
        </p>
    </fieldset>
}



@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

        <script type="text/javascript">
            $(document).ready(function () {

                $("#btnGrabar").live('click', function() {

                    var descripcion = $("#Descripcion").val();
                    var detalle = $("#DetalleInforme").val();

                    if (descripcion == null || descripcion == "") {
                        alert("Debe ingresar el Descripcion del informe");
                        $("#Descripcion").focus();
                        return false;
                    }

                    if (detalle == null || detalle == "") {
                        alert("Debe ingresar el Detalle del informe");
                        $("#DetalleInforme").focus();
                        return false;
                    }


                    if (confirm("¿Desea Actualizar el Informe de reclamo?")) {
                        alert("Se actualizó correctamente el Informe de reclamo");
                    } else {
                        return false;
                    }


                });


            });
    </script>




}